{"ast":null,"code":"import * as actionTypes from \"./pageTypes\";\nconst default_state = {\n  items: [{\n    id: 1,\n    title: \"Veg Thali\",\n    price: 80,\n    details: \"The vegetarian Kerala style lunch consists of boiled rice along with five varities of traditional dishes. \",\n    image: \"https://english.mathrubhumi.com/polopoly_fs/1.3342216.1580286907!/image/image.jpg_gen/derivatives/landscape_894_577/image.jpg\"\n  }, {\n    id: 2,\n    title: \"Home made lunch Thali (Non-Veg)\",\n    price: 120,\n    details: \"Home made thali contains plain rice, Dal, Kosha murgir mangsho with alu sobji, alu vaja, papad and chatni.\",\n    image: \"https://4.imimg.com/data4/UU/FC/ANDROID-28469914/product-500x500.jpeg\"\n  }, {\n    id: 3,\n    title: \"The third Item\",\n    price: 125,\n    details: \"Indian, Seafood, Asian, Vegetarian Friendly, Vegan Options, Lunch, Dinner\",\n    image: \"https://media-cdn.tripadvisor.com/media/photo-s/18/de/30/ce/img-20190819-144555-01.jpg\"\n  }],\n  // {id, title, price, details, img}\n  cart: [],\n  // {id, title, price, details, img, qty}\n  currentItem: null\n};\n\nconst pageReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : default_state;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART:\n      const item = state.items.find(item => item.id == action.payload.id);\n      const inCart = state.cart.find(cartItem => cartItem.id == action.payload.id);\n      return { ...state,\n        cart: inCart ? state.cart.map(cartItem => cartItem.id === item.id ? { ...cartItem,\n          qty: cartItem.qty + 1\n        } : cartItem) : [...state.cart, { ...item,\n          qty: 1\n        }]\n      };\n      break;\n\n    case actionTypes.REMOVE_FROM_CART:\n      const findItemFromCart = state.cart.find(item => item.id == action.payload.id);\n      const findTheIndex = state.cart.indexOf(findItemFromCart);\n      const copyPreviousItems = state.cart.slice(0, findTheIndex);\n      const copyNextItems = state.cart.slice(findTheIndex + 1);\n      const newCopiedCart = copyPreviousItems.concat(newCopiedCart);\n      return { ...state,\n        cart: newCopiedCart\n      };\n      break;\n\n    case actionTypes.UPDATE_QTY:\n      return {};\n      break;\n\n    case actionTypes.LOAD_CLICKED_ITEM:\n      return {};\n      break;\n\n    default:\n      return state;\n      break;\n  }\n};\n\nexport default pageReducer;","map":{"version":3,"sources":["D:/domPro/food-order-app/src/components/pages/pageReducer.js"],"names":["actionTypes","default_state","items","id","title","price","details","image","cart","currentItem","pageReducer","state","action","type","ADD_TO_CART","item","find","payload","inCart","cartItem","map","qty","REMOVE_FROM_CART","findItemFromCart","findTheIndex","indexOf","copyPreviousItems","slice","copyNextItems","newCopiedCart","concat","UPDATE_QTY","LOAD_CLICKED_ITEM"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./pageTypes\";\r\n\r\nconst default_state = {\r\n  items: [\r\n    {\r\n      id: 1,\r\n      title: \"Veg Thali\",\r\n      price: 80,\r\n      details:\r\n        \"The vegetarian Kerala style lunch consists of boiled rice along with five varities of traditional dishes. \",\r\n      image:\r\n        \"https://english.mathrubhumi.com/polopoly_fs/1.3342216.1580286907!/image/image.jpg_gen/derivatives/landscape_894_577/image.jpg\",\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Home made lunch Thali (Non-Veg)\",\r\n      price: 120,\r\n      details:\r\n        \"Home made thali contains plain rice, Dal, Kosha murgir mangsho with alu sobji, alu vaja, papad and chatni.\",\r\n      image:\r\n        \"https://4.imimg.com/data4/UU/FC/ANDROID-28469914/product-500x500.jpeg\",\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"The third Item\",\r\n      price: 125,\r\n      details:\r\n        \"Indian, Seafood, Asian, Vegetarian Friendly, Vegan Options, Lunch, Dinner\",\r\n      image:\r\n        \"https://media-cdn.tripadvisor.com/media/photo-s/18/de/30/ce/img-20190819-144555-01.jpg\",\r\n    },\r\n  ], // {id, title, price, details, img}\r\n  cart: [], // {id, title, price, details, img, qty}\r\n  currentItem: null,\r\n};\r\n\r\nconst pageReducer = (state = default_state, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_TO_CART:\r\n      const item = state.items.find((item) => item.id == action.payload.id);\r\n      const inCart = state.cart.find(\r\n        (cartItem) => cartItem.id == action.payload.id\r\n      );\r\n      return {\r\n        ...state,\r\n        cart: inCart\r\n          ? state.cart.map((cartItem) =>\r\n              cartItem.id === item.id\r\n                ? { ...cartItem, qty: cartItem.qty + 1 }\r\n                : cartItem\r\n            )\r\n          : [...state.cart, { ...item, qty: 1 }],\r\n      };\r\n      break;\r\n    case actionTypes.REMOVE_FROM_CART:\r\n      const findItemFromCart = state.cart.find(\r\n        (item) => item.id == action.payload.id\r\n      );\r\n      const findTheIndex = state.cart.indexOf(findItemFromCart);\r\n      const copyPreviousItems = state.cart.slice(0, findTheIndex);\r\n      const copyNextItems = state.cart.slice(findTheIndex + 1);\r\n      const newCopiedCart = copyPreviousItems.concat(newCopiedCart);\r\n      return {\r\n        ...state,\r\n        cart: newCopiedCart,\r\n      };\r\n      break;\r\n    case actionTypes.UPDATE_QTY:\r\n      return {};\r\n      break;\r\n    case actionTypes.LOAD_CLICKED_ITEM:\r\n      return {};\r\n      break;\r\n    default:\r\n      return state;\r\n      break;\r\n  }\r\n};\r\nexport default pageReducer;\r\n"]},"metadata":{},"sourceType":"module"}